{"version":3,"file":"EasyReport.js","sources":["../src/classes/Container.js","../src/processes/Ctable.js","../src/classes/core/Component.js","../src/classes/core/Title.js","../src/processes/Title.js","../src/enum/font_enum.js","../src/util/string_util.js","../src/classes/core/Font.js","../src/processes/Font.js","../src/global/index.js","../src/classes/core/ImgContainer.js","../src/processes/Img.js","../src/processes/index.js","../src/classes/core/Img.js","../src/classes/core/ImgPreloader.js","../src/classes/EasyReport.js","../src/index.js"],"sourcesContent":["\r\nexport default class Container {\r\n    constructor(parent, width, height) {\r\n        this.$dom = $(`<div style = \"width:${width}px;height:${height}px\" class = \"er-container\"></div>`).appendTo(parent);\r\n        this.remainderHeight = height;\r\n        this.tagheight = 0;\r\n    }\r\n\r\n    tryAdd(nHeight) {\r\n        return this.remainderHeight > nHeight;\r\n    }\r\n    add(ele, nHeight) {\r\n        this.$dom.append(ele);\r\n        this.remainderHeight = this.remainderHeight - nHeight;\r\n    }\r\n    addHeightTag() {\r\n        this.tagheight = this.remainderHeight;\r\n    }\r\n    restoreHeightTag() {\r\n        this.remainderHeight = this.tagheight;\r\n        this.tagheight = 0;\r\n    }\r\n    addHeight(h) {\r\n        this.remainderHeight = this.remainderHeight - h;\r\n    }\r\n};\r\n","\r\nexport default function (obj_container, onedata,fn_create) {\r\n\r\n\r\n};\r\n","\r\nexport default class Component {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.$dom = null;\r\n        this.parseOpts();\r\n        this.onInit();\r\n    }\r\n    onInit() {\r\n    }\r\n    parseOpts() {\r\n\r\n    }\r\n    getDom() {\r\n        return this.$dom;\r\n    }\r\n\r\n\r\n\r\n};\r\n","import Component from \"./Component\";\r\n\r\nexport default class Title extends Component {\r\n    constructor(data) {\r\n        super(data);\r\n    }\r\n    static prepare(parent)\r\n    {\r\n        $('<div style=\"position: absolute;visibility: hidden;\" class=\"er-title-container\" id=\"er-test-title\"></div>').appendTo(parent);\r\n    }\r\n    onInit() {\r\n        this.$dom = $('<div class = \"er-title-container\">' + this.data.value + '</div>')\r\n    }\r\n    getHeight() {\r\n        $('#er-test-title').text(this.data.value);\r\n        return $('#er-test-title').height();\r\n    }\r\n\r\n};\r\n","import Title from '../../src/classes/core/Title'\r\nexport default function (obj_container,onedata, fn_create,fn_loop) {\r\n\r\n    var title = new Title(onedata);\r\n    if (onedata.callpages) {\r\n        obj_container = fn_create();\r\n    }\r\n\r\n    const height = title.getHeight();\r\n\r\n    if (obj_container.tryAdd(height)) {\r\n        obj_container.add(title.getDom(), height);\r\n        return obj_container;\r\n    } else {\r\n        var obj_container_new = fn_create();\r\n        return fn_loop(obj_container_new, onedata, fn_create,fn_loop)\r\n    }\r\n};\r\n","export default {\r\n    \"NORMAL\":0,\r\n    \"INDENT\":-1\r\n}","\r\n\r\n\r\n//--获取字符串实际长度\r\nexport function GetLength(str) {\r\n    var realLength = 0,\r\n        len = str.length,\r\n        charCode = -1;\r\n    for (var i = 0; i < len; i++) {\r\n        charCode = str.charCodeAt(i);\r\n        if (charCode >= 0 && charCode <= 128) realLength += 1;\r\n        else realLength += 2;\r\n    }\r\n    return realLength;\r\n}\r\n\r\n//--截取\r\nexport function cutstr(str, len) {\r\n    var str_length = 0;\r\n    var str_len = 0;\r\n    var str_cut = new String();\r\n    var str_len = str.length;\r\n    for (var i = 0; i < str_len; i++) {\r\n       var a = str.charAt(i);\r\n        str_length++;\r\n        if (escape(a).length > 4) {\r\n            //中文字符的长度经编码之后大于4  \r\n            str_length++;\r\n        }\r\n        str_cut = str_cut.concat(a);\r\n        if (str_length >= len) {\r\n            return str_cut;\r\n        }\r\n    }\r\n    if (str_length < len) {\r\n        return str;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function splitstring(stringtotal, splitor) {\r\n    var index = stringtotal.indexOf(splitor);\r\n\r\n    if (index == 0) {\r\n        var splits = stringtotal.split(splitor);\r\n\r\n        if (splits.length > 2) {\r\n            var rets = \"\";\r\n            for (var i = 1; i < splits.length; i++) {\r\n                if (i != splits.length - 1)\r\n                    rets += (splits[i] + splitor)\r\n                else\r\n                    rets += splits[i];\r\n            }\r\n            return rets;\r\n        } else\r\n            return splits[1];\r\n    }\r\n    return stringtotal;\r\n}\r\n\r\n\r\n\r\n","import Component from \"./Component\";\r\nimport FontEnum from '../../enum/font_enum'\r\nimport { GetLength, splitstring,cutstr} from '../../util/string_util'\r\n\r\nexport default class Font extends Component {\r\n    constructor(data) {\r\n        super(data);\r\n    }\r\n    parseOpts() {\r\n        this.defaults = {\r\n            indent: true,//--顶部不空格\r\n            margintop: 10,\r\n            marginbuttom: 0,\r\n            marginleft: 20,\r\n            width: 500\r\n        }\r\n        this.opts = $.extend(true, this.defaults, this.data);\r\n        this.mode = this.opts.indent ? FontEnum.INDENT : FontEnum.NORMAL;\r\n        this.linesize = null;\r\n        this.lineheight = null;\r\n    }\r\n\r\n    static prepare(container) {\r\n        $(`<div style=\"position: absolute;visibility: hidden;\" id=\"test-font\" class=\"text-container\"></div>`).appendTo(container);\r\n        $(`<div style=\"position: absolute;visibility: hidden;\" id=\"test-font-indent\" class=\"text-container indent\"></div>`).appendTo(container);\r\n    }\r\n    //--计算一行容纳的字节数\r\n    static cacuLineSize() {\r\n\r\n        var curTestStr = \"a\";\r\n        var orgHeight = Font.cacuFontHeight(curTestStr, 0);\r\n        var curHeight = orgHeight;\r\n        var nSize = 1;\r\n        while (curHeight == orgHeight) {\r\n\r\n            curHeight = Font.cacuFontHeight(curTestStr += \"a\", 0)\r\n            nSize++;\r\n        }\r\n        return nSize;\r\n    }\r\n    //--计算一行的高度\r\n    static caculineHeight() {\r\n        $('#test-font').text(\"我\");\r\n        return $('#test-font').height();\r\n    }\r\n    static getContainer(mode) {\r\n        var $container;\r\n        switch (mode) {\r\n            case FontEnum.NORMAL:\r\n                $container = $('#test-font');\r\n                break;\r\n            case FontEnum.INDENT:\r\n                $container = $('#test-font-indent');\r\n                break;\r\n        }\r\n        return $container;\r\n    }\r\n    //--计算容器的高度\r\n    static cacuFontHeight(str, mode) {\r\n        var $container = Font.getContainer(mode);\r\n\r\n        $container.get(0).innerHTML = str;\r\n\r\n        return $container.height();\r\n    }\r\n    static setTestWidth(width) {\r\n        $('#test-font').width(width);\r\n        $('#test-font-indent').width(width);\r\n    }\r\n    //--补充字符串直到填充满一行\r\n    static getbalanceStr(part1, part2, mode) {\r\n        var $container = Font.getContainer(mode);\r\n\r\n        $container.get(0).innerHTML = part1;\r\n        var orgHeight = $container.height();\r\n        var testPart = part1;\r\n        var totolOffset = 0;\r\n        for (var i = 0; i < part2.length; i++) {\r\n            testPart = testPart + part2.charAt(i);\r\n            $container.get(0).innerHTML = testPart;\r\n            if (orgHeight != $container.height()) {\r\n                totolOffset = i;\r\n                break;\r\n            }\r\n        }\r\n        return testPart.substr(0, testPart.length - 1)\r\n    }\r\n    //--截取总字符串\r\n    static cutString(pes, str, nMode, linesize) {\r\n\r\n        var totalWord = GetLength(str);\r\n\r\n        var nLinedRemain = Math.floor(totalWord * pes / linesize) - 1;\r\n\r\n        var sublen = nLinedRemain * linesize;\r\n\r\n        var first_cut_str = cutstr(str, sublen);\r\n\r\n        var first_remained_str = splitstring(str, first_cut_str);\r\n\r\n        var second_cut_str = Font.getbalanceStr(first_cut_str, first_remained_str, nMode);\r\n\r\n        return {\r\n            subed: second_cut_str,\r\n            remained: splitstring(str, second_cut_str)\r\n        }\r\n    }\r\n    getLineSize() {\r\n        if (!this.linesize) {\r\n            this.linesize = Font.cacuLineSize(this.opts.width);\r\n        }\r\n        return this.linesize;\r\n    }\r\n    getLineHeight() {\r\n        if (!this.lineheight) {\r\n            this.lineheight = Font.caculineHeight(this.opts.width);\r\n        }\r\n        return this.lineheight;\r\n    }\r\n    getHeight() {\r\n        var org_height = Font.cacuFontHeight(this.data.value, this.mode);\r\n        return org_height + this.opts.margintop + this.opts.marginbuttom;\r\n    }\r\n    //--获取不包含margin和padding的实际高度\r\n    getFontHeight() {\r\n        return Font.cacuFontHeight(this.data.value, this.mode);\r\n    }\r\n    getExtraHeight() {\r\n        return this.opts.margintop + this.opts.marginbuttom;\r\n    }\r\n    onInit() {\r\n        Font.setTestWidth(this.opts.width-this.opts.marginleft);\r\n        var createClass = this.mode == FontEnum.INDENT ? \"indent\" : \"\";\r\n        this.$dom = $('<div style = \"width:' + (this.opts.width-this.opts.marginleft) + 'px;margin-left:'+this.opts.marginleft+'px;margin-bottom:' + this.opts.marginbuttom + 'px;margin-top:' + this.opts.margintop + 'px;\" class = \"text-container ' + createClass + '\">' + this.opts.value + '</div>');\r\n    }\r\n\r\n\r\n};\r\n","import Font from '../../src/classes/core/Font'\r\nimport { GetLength, splitstring } from '../util/string_util'\r\nexport default function (obj_container, onedata, fn_create, fn_loop) {\r\n\r\n    const font = new Font(onedata);\r\n\r\n    const totalheight = font.getHeight();\r\n    const fontheight = font.getFontHeight();\r\n    const extra_height = font.getExtraHeight();\r\n    if (obj_container.tryAdd(totalheight)) {\r\n\r\n        obj_container.add(font.getDom(), totalheight);\r\n\r\n        return obj_container;\r\n    } else {\r\n        var str_obj = {};\r\n        if (obj_container.remainderHeight - extra_height > font.getLineHeight()) {\r\n\r\n            var pes = (obj_container.remainderHeight - extra_height) / fontheight;\r\n\r\n            var remainedLength = GetLength(onedata.value);\r\n\r\n            if (remainedLength < 2 * font.getLineSize()) {\r\n                if (remainedLength < font.getLineSize())\r\n                    str_obj = { subed: \"\", remained: onedata.value };\r\n                else {\r\n                    var firstChar = onedata.value.charAt(0);\r\n                    var second_cut_str = Font.getbalanceStr(firstChar, splitstring(onedata.value, firstChar), font.mode);\r\n\r\n                    str_obj = {\r\n                        subed: second_cut_str,\r\n                        remained: splitstring(onedata.value, second_cut_str)\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n\r\n                str_obj = Font.cutString(pes, onedata.value, font.mode, font.getLineSize());\r\n\r\n                if (GetLength(str_obj.subed) < font.getLineSize()) {\r\n\r\n                    var second_cut_str = Font.getbalanceStr(str_obj.subed, str_obj.remained, font.mode);\r\n\r\n                    str_obj = {\r\n                        subed: second_cut_str,\r\n                        remained: splitstring(onedata.value, second_cut_str)\r\n                    }\r\n\r\n                }\r\n            }\r\n            const subject_font = new Font($.extend({}, onedata, { value: str_obj.subed }));\r\n            const subject_font_totalheight = subject_font.getHeight();\r\n            obj_container.add(subject_font.$dom, subject_font_totalheight);\r\n        }\r\n        else {\r\n            str_obj = { subed: \"\", remained: onedata.value };\r\n        }\r\n\r\n        var obj_container_new = fn_create();\r\n\r\n\r\n        return fn_loop(obj_container_new, {\r\n            \"type\": \"font\",\r\n            \"value\": str_obj.remained,\r\n            \"margintop\": 10,\r\n            \"indent\": false\r\n        }, fn_create, fn_loop)\r\n\r\n    }\r\n};\r\n","class Global {\r\n\r\n    constructor() {\r\n        this._cwith = 0;\r\n        this._cheight = 0;\r\n        this._inited = false;\r\n    }\r\n\r\n    isValide() {\r\n        return this._inited;\r\n    }\r\n\r\n    setConfig(obj) {\r\n        this._cwith = obj.width;\r\n        this._cheight = obj.height;\r\n    }\r\n\r\n    getContainerWidth() {\r\n        return this._cwith\r\n    }\r\n    getContainerHeight() {\r\n        return this._cheight;\r\n    }\r\n\r\n}\r\n\r\nexport default new Global();","import Component from \"./Component\";\r\nimport Global from '../../global'\r\n\r\n\r\nexport default class ImgContainer extends Component {\r\n    constructor(data) {\r\n        super(data);\r\n      \r\n    }\r\n  \r\n    parseOpts() {\r\n        this.defaults = {\r\n            margin_left: 10,\r\n            margin_right: 5,\r\n            img_splice: 5,\r\n            margin_top: 5,\r\n            margin_bottom: 5\r\n        }\r\n        this.opts = $.extend(true, this.defaults, this.data);\r\n        this.$dom = $('<div style = \"padding-top:' + this.opts.margin_top + 'px;padding-bottom:' + this.opts.margin_bottom + 'px\" class = \"img-container\"><div class = \"content-clear\"></div></div>')\r\n        this.retainedWidth = Global.getContainerWidth();\r\n        this.height = 0;\r\n        this.curBegin = this.opts.margin_left;\r\n        this.arr_img = [];\r\n    }\r\n    testAdd(img) {\r\n\r\n        if (!this.arr_img.length)//--第一张直接放\r\n            return true;\r\n        else {\r\n            return this.retainedWidth > (img._width + this.opts.img_splice + this.opts.margin_left);\r\n        }\r\n\r\n    }\r\n    add(img) {\r\n\r\n        img.$dom.insertBefore(this.$dom.find(\"div.content-clear\"));\r\n\r\n        if (!this.arr_img.length)//--第一个图距左边的距离\r\n        {\r\n            img.$dom.css('margin-left', this.opts.margin_left);\r\n            this.retainedWidth = this.retainedWidth - img._width - this.opts.margin_left;\r\n        }\r\n\r\n        else {\r\n            img.$dom.css('margin-left', this.opts.img_splice + this.opts.margin_left);//--每个图间隔\r\n            this.retainedWidth = this.retainedWidth - img._width - this.opts.margin_left - this.opts.img_splice;\r\n        }\r\n\r\n\r\n        this.arr_img.push(img);\r\n        this.height = Math.max.apply({}, this.arr_img.map(function (img) {\r\n            return img._height;\r\n        })) + this.opts.margin_top + this.opts.margin_bottom\r\n    }\r\n\r\n};\r\n","import Font from '../../src/classes/core/Font'\r\nimport { GetLength, splitstring } from '../util/string_util'\r\nimport ImgContainer from '../classes/core/ImgContainer'\r\nexport default function (obj_container, onedata, fn_create, fn_loop) {\r\n\r\n    var curRetData = { index: 0, container: null };\r\n\r\n    function appendImg(obj_img_container, ImgData, curIndex) {\r\n\r\n        for (var i = curIndex; i < ImgData.length; i++) {\r\n            var objImg = ImgData[i];\r\n            if (obj_img_container.testAdd(objImg)) {\r\n                obj_img_container.add(objImg);\r\n            } else {\r\n                return {\r\n                    container: obj_img_container,\r\n                    index: i\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            container: obj_img_container,\r\n            index: ImgData.length\r\n        }\r\n\r\n    }\r\n\r\n    while (curRetData.index != onedata.value.length) {\r\n\r\n        var obj_img_container = new ImgContainer();\r\n\r\n        var beforeIndex = curRetData.index;\r\n\r\n        curRetData = appendImg(obj_img_container, onedata.value, curRetData.index);\r\n\r\n        if (obj_container.tryAdd(curRetData.container.height)) {\r\n            obj_container.add(curRetData.container.$dom, curRetData.container.height);\r\n        } else {\r\n\r\n            var obj_container_new = fn_create();\r\n\r\n            var newDataArray = onedata.value.slice(beforeIndex);\r\n            return fn_loop(obj_container_new, { \"type\": \"img\", value: newDataArray }, fn_create, fn_loop)\r\n        }\r\n\r\n    }\r\n    return obj_container;\r\n};\r\n","import CTable from './Ctable'\r\nimport Title from './Title'\r\nimport Font from './Font'\r\nimport Img from './Img';\r\nexport default{\r\n    \"ctable\":CTable,\r\n    \"title\":Title,\r\n    \"font\":Font,\r\n    'img':Img,\r\n}","import Component from \"./Component\";\r\n\r\n\r\nexport default class Img extends Component {\r\n    constructor(data) {\r\n        super(data);\r\n    }\r\n    parseOpts() {\r\n        this.defaults = {\r\n            url: \"\",\r\n            msg: \"图1\",\r\n            tipsHeight: 20,\r\n            maxWidth: 700,\r\n            maxHight: 700,\r\n            onLoad: function () { }\r\n        }\r\n        this.opts = $.extend(true, this.defaults, this.data);\r\n        this._bLoaded = false;\r\n        this.$dom = $('<div class = \"img_parent\"></div>');\r\n        this.$img = $('<img class = \"_img\" style = \"visibility:hidden\">').appendTo('body');\r\n        this._width = 0;\r\n        this._height = 0;\r\n    }\r\n    onInit() {\r\n        this.$img.get(0).src = this.opts.url;\r\n        setTimeout(() => {\r\n            var nImgHeight = this.$img.height();\r\n            var nImgWidth = this.$img.width();\r\n            if (nImgHeight > this.opts.maxHeight || nImgWidth > this.opts.maxWidth) {\r\n                this.DrawImage(this.$img.get(0));\r\n            }\r\n            nImgHeight = this.$img.height();\r\n            nImgWidth = this.$img.width();\r\n\r\n            this._width = nImgWidth;\r\n            this._height = nImgHeight + this.opts.tipsHeight;\r\n\r\n\r\n            this.$dom.width(nImgWidth);\r\n            this.$img.css('visibility', 'inherit');\r\n            this.$dom.append(this.$img);\r\n            this.$dom.append($('<div style = \"width:' + nImgWidth + 'px;height:' + this.opts.tipsHeight + 'px\" class = \"img-tips\">' + this.opts.msg + '</div>'));\r\n            this.opts.onLoad.call(this);\r\n\r\n        }, 80)\r\n    }\r\n    DrawImage(ImgD) {\r\n        //参数(图片,允许的宽度,允许的高度)          \r\n        var image = new Image();\r\n        var iwidth = this.opts.maxWidth;\r\n        var iheight = this.opts.maxHight;\r\n        image.src = ImgD.src;\r\n        if (image.width > 0 && image.height > 0) {\r\n            if (image.width / image.height >= iwidth / iheight) {\r\n                if (image.width > iwidth) {\r\n                    ImgD.width = iwidth;\r\n                    ImgD.height = (image.height * iwidth) / image.width;\r\n                } else {\r\n                    ImgD.width = image.width;\r\n                    ImgD.height = image.height;\r\n                }\r\n            } else {\r\n                if (image.height > iheight) {\r\n                    ImgD.height = iheight;\r\n                    ImgD.width = (image.width * iheight) / image.height;\r\n                } else {\r\n                    ImgD.width = image.width;\r\n                    ImgD.height = image.height;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n};\r\n","import Component from \"./Component\";\r\nimport Img from './Img'\r\nimport Global from '../../global'\r\n\r\nexport default class ImgPreloader {\r\n    constructor() {\r\n\r\n    }\r\n    loadImg(index, imgdata, callback) {\r\n        var retArr = [];\r\n        var interval = 0;\r\n\r\n        imgdata.forEach(function (imgdata, i) {\r\n            new Img({\r\n                msg: imgdata.msg,\r\n                url: imgdata.url,\r\n                maxWidth: Global.getContainerWidth() - 15,//--imageContainer maringleft+marginright\r\n                maxHight: Global.getContainerHeight(),\r\n                onLoad: function () {\r\n                    retArr.push({\r\n                        obj: this,\r\n                        i: i\r\n                    });\r\n                }\r\n            });\r\n        }, this);\r\n\r\n        interval = setInterval(function () {\r\n            if (imgdata.length == retArr.length) {\r\n                clearInterval(interval);\r\n                callback(retArr.sort(function (a, b) {\r\n                    return a.i - b.i;\r\n                }).map(function (d) {\r\n                    return d.obj\r\n                }), index);\r\n            }\r\n        }, 10)\r\n    }\r\n    process(data) {\r\n\r\n        var retData = data;\r\n        var curCalbackEd = 0;\r\n        var interval = 0;\r\n\r\n        var nTotalCallback = data.filter(function (onedata) {\r\n            return onedata.type == 'img';\r\n        }).length;\r\n\r\n        data.forEach((onedata, n) => {\r\n            if (onedata.type == 'img') {\r\n                this.loadImg(n, onedata.value, function (imgarr, index) {\r\n                    retData[index].value = imgarr;\r\n                    curCalbackEd++;\r\n                })\r\n            }\r\n        })\r\n\r\n        return new Promise((resove, reject) => {\r\n\r\n            interval = setInterval(function () {\r\n                if (nTotalCallback == curCalbackEd) {\r\n                    clearInterval(interval);\r\n                    resove(retData);\r\n                }\r\n            }, 10)\r\n        })\r\n\r\n    }\r\n\r\n};\r\n","import Container from \"./Container\";\r\nimport Processes from \"../processes\"\r\nimport Font from './core/Font'\r\nimport Title from './core/Title'\r\nimport ImgPreloader from './core/ImgPreloader'\r\nimport Global from '../global'\r\nexport default class EasyReport {\r\n    constructor(parent, options) {\r\n        this.defaults = {\r\n            width: 700,\r\n            height: 500,\r\n            onCreatePage() { }\r\n        }\r\n        this.containers = [];\r\n        this.parent = parent;\r\n        this.opts = $.extend(true, this.defaults, options);\r\n        this.curindex = 0;\r\n        this._init();\r\n\r\n    }\r\n    _init() {\r\n        Global.setConfig({\r\n            width: this.opts.width,\r\n            height: this.opts.height\r\n        })\r\n        Font.prepare(this.parent);\r\n        Title.prepare(this.parent);\r\n\r\n    }\r\n\r\n    ready() {\r\n\r\n    }\r\n    createContainer() {\r\n        const c = new Container(this.parent, this.opts.width, this.opts.height);\r\n        // c.setIndex\r\n        this.containers.push(c);\r\n        this.opts.onCreatePage.call(this, c.$dom, this.curindex++);\r\n        return c;\r\n    }\r\n    getContainer(index) {\r\n        return this.containers[index];\r\n    }\r\n\r\n    preprocess(data) {\r\n        return new Promise((resove, reject) => {\r\n            return new ImgPreloader().process(data).then((d) => {\r\n                resove(d);\r\n            })\r\n        })\r\n    }\r\n\r\n    process(data) {\r\n\r\n        const loop = function (obj_container, onedata, fn_create) {\r\n            return Processes[onedata.type](obj_container, onedata, fn_create, loop);\r\n        }\r\n        const createContainer = () => {\r\n            return this.createContainer();\r\n        }\r\n        let cur_container = this.createContainer();\r\n        this.preprocess(data).then((d) => {\r\n            for (var i = 0; i < d.length; i++) {\r\n                cur_container = loop(cur_container, d[i], createContainer, loop);\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n};\r\n","import EasyReport from './classes/EasyReport';\r\n// import MODE from './enum/mode'\r\n\r\n\r\nconst ER = {\r\n    version: \"1.0.0\",\r\n\r\n    create(parent, opts) {\r\n        return new EasyReport(parent, opts);\r\n    }\r\n\r\n};\r\n\r\n\r\n\r\nexport default ER;"],"names":["Container","parent","width","height","$dom","$","appendTo","remainderHeight","tagheight","nHeight","ele","append","h","obj_container","onedata","fn_create","Component","data","parseOpts","onInit","Title","value","text","fn_loop","title","callpages","getHeight","tryAdd","add","getDom","obj_container_new","GetLength","str","realLength","len","length","charCode","i","charCodeAt","cutstr","str_length","str_len","str_cut","String","a","charAt","escape","concat","splitstring","stringtotal","splitor","index","indexOf","splits","split","rets","Font","defaults","opts","extend","mode","indent","FontEnum","INDENT","NORMAL","linesize","lineheight","cacuLineSize","caculineHeight","org_height","cacuFontHeight","margintop","marginbuttom","setTestWidth","marginleft","createClass","container","curTestStr","orgHeight","curHeight","nSize","$container","getContainer","get","innerHTML","part1","part2","testPart","totolOffset","substr","pes","nMode","totalWord","nLinedRemain","Math","floor","sublen","first_cut_str","first_remained_str","second_cut_str","getbalanceStr","font","totalheight","fontheight","getFontHeight","extra_height","getExtraHeight","str_obj","getLineHeight","remainedLength","getLineSize","subed","remained","firstChar","cutString","subject_font","subject_font_totalheight","Global","_cwith","_cheight","_inited","obj","ImgContainer","margin_top","margin_bottom","retainedWidth","getContainerWidth","curBegin","margin_left","arr_img","img","_width","img_splice","insertBefore","find","css","push","max","apply","map","_height","curRetData","appendImg","obj_img_container","ImgData","curIndex","objImg","testAdd","beforeIndex","newDataArray","slice","CTable","Img","_bLoaded","$img","src","url","nImgHeight","nImgWidth","maxHeight","maxWidth","DrawImage","tipsHeight","msg","onLoad","call","ImgD","image","Image","iwidth","iheight","maxHight","ImgPreloader","imgdata","callback","retArr","interval","forEach","getContainerHeight","setInterval","sort","b","d","retData","curCalbackEd","nTotalCallback","filter","type","n","loadImg","imgarr","Promise","resove","reject","EasyReport","options","containers","curindex","_init","setConfig","prepare","c","onCreatePage","process","then","loop","Processes","createContainer","cur_container","preprocess","ER"],"mappings":"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"}